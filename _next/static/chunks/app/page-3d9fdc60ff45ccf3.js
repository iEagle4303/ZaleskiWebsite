(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8850:(e,t,n)=>{Promise.resolve().then(n.bind(n,3080))},3080:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var l=n(5155),s=n(2115),r=n(5565);function a(e){return e>1536||e>1280?4:e>1024?3:e>768?2:1}var c=n(8173),i=n.n(c);function o(e){let{src:t,title:n,video:s}=e;return(0,l.jsxs)("div",{className:"w-full h-full block",children:[(0,l.jsx)("div",{className:"w-full h-5/6 relative block",children:(0,l.jsx)(i(),{href:"./Theater/?video=".concat(s.replaceAll("#","%23")," "),className:"w-full h-full absolute",children:(0,l.jsx)(r.default,{unoptimized:!0,src:t.replaceAll("#","%23"),fill:!0,title:n,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"image",className:"rounded-[10%]"})})}),(0,l.jsx)("div",{className:"block relative ",children:(0,l.jsx)("h1",{children:n})})]})}function u(e){let{children:t}=e,[n,r]=(0,s.useState)(window.innerWidth);(0,s.useEffect)(()=>{let e=()=>{r(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=function(){let e=a(n);return e>6?{width:"calc(25% - .50rem)"}:e>5?{width:"calc(20% - .50rem)"}:4==e?{width:"calc(25% - .50rem)"}:3==e?{width:"calc(33.3% - .50rem )"}:2==e?{width:"calc(50% - .50rem)"}:void 0}();return(0,l.jsx)("div",{className:" m-1 h-[33vh] object-contain relative",style:c,children:t})}async function h(e){return""==e?[]:await fetch(e,{cache:"no-store"}).then(e=>e.json())}function d(e){let{allowedVideos:t,videosLocation:n}=e,r=(0,s.useRef)([]),[c,i]=(0,s.useState)([]),[d,f]=(0,s.useState)(!1),[m,w]=(0,s.useState)(0),v=(0,s.useCallback)(async()=>{d||(f(!0),w(m+2*a(window.innerWidth)),f(!1))},[d,m]);(0,s.useEffect)(()=>{if(t.length>0&&r.current.length>0){let e=[];for(let n=t.length-1;n>=0;n--)e.push(t[n]);i(e)}else if(r.current.length>0){let e=[];for(let t=r.current.length;t>0;t--)e.push(t);i(e)}},[t,r]),(0,s.useEffect)(()=>{(async function(){r.current=await h(n);let e=[];for(let t=r.current.length;t>0;t--)e.push(t);i(e)})(),w(4*a(window.innerWidth))},[n]),(0,s.useEffect)(()=>{let e=()=>{let{scrollTop:e,clientHeight:t,scrollHeight:n}=document.documentElement;e+t>=n-50&&v()};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[v]);let x=0;return(0,l.jsx)("div",{className:"flex flex-wrap flex-row ",children:c.map(e=>{if(e<0||++x>m)return;let t=r.current[e];if(void 0==t){console.log("fail "+e);return}return(0,l.jsxs)(u,{children:[" ",(0,l.jsx)(o,{src:t.thumbnail,title:t.title,video:t.video})]},t.id)})})}let f="200px";async function m(){return await fetch("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com/years.json",{cache:"no-store"}).then(e=>e.json())}function w(e){let{changeYear:t}=e,[n,r]=(0,s.useState)(""),[a,c]=(0,s.useState)([]);return(0,s.useEffect)(()=>{e();async function e(){let e=await m();r(e[0].title),t(e[0].location),c(e)}},[]),(0,l.jsx)("div",{className:"p-1",children:(0,l.jsx)("select",{name:"Year",className:"w-full h-10 rounded-xl bg-slate-300 hover:bg-slate-50",value:n,onChange:e=>{t(e.target.value),r(e.target.value)},children:a.map(e=>(0,l.jsx)("option",{value:e.location,children:e.title},e.title))})})}async function v(e){return await fetch(e.replaceAll("videoList.json","tagGroupsList.json"),{cache:"no-store"}).then(e=>e.json())}async function x(e){return await fetch("".concat("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com","/").concat(e),{cache:"no-store"}).then(e=>e.json())}function g(e){let{name:t,link:n,setTags:r,initVideoSelect:a}=e,c=(0,s.useRef)([]);return(0,s.useEffect)(()=>{e();async function e(){c.current=await x(n),c.current.forEach(e=>{let n=localStorage.getItem(e);n&&JSON.parse(n)&&a(t,e,!1)})}},[n]),(0,l.jsx)("div",{className:"p-1",children:(0,l.jsx)("button",{className:"w-full h-10 rounded-xl bg-slate-300 hover:bg-slate-50",onClick:()=>{r(c.current,t)},children:t})})}let j=s.memo(e=>{let{setTags:t,initVideoSelect:n,changeYear:r}=e,[a,c]=(0,s.useState)([]),i=(0,s.useRef)("");return(0,s.useEffect)(()=>{e();async function e(){c(await v(i.current))}},[i.current]),(0,l.jsxs)("div",{className:"h-[100vh] bg-slate-500 inline-block ",style:{width:f},children:[(0,l.jsx)(w,{changeYear:function(e){i.current=e,r(e)}}),a.map(e=>(0,l.jsx)(g,{name:e.name,link:e.location,setTags:t,initVideoSelect:n},e.name))]})});j.displayName="SideBarItemList";let p=(0,s.createContext)([]);function b(e){let{callback:t,changeYear:n}=e,[r,a]=(0,s.useState)([]),c=(0,s.useRef)(""),i=(0,s.useCallback)((e,t)=>{c.current==t?a([]):a(e),c.current=t},[]),o=(0,s.useCallback)((e,n)=>{t(c.current,e,n)},[]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(j,{changeYear:n,setTags:i,initVideoSelect:t}),(0,l.jsx)(p.Provider,{value:r,children:(0,l.jsx)(k,{callback:o})})]})}function k(e){let{callback:t}=e,n=(0,s.useContext)(p);return n.length>0?(0,l.jsx)("div",{className:"inline-block p-1 w-2/3",children:(0,l.jsx)("div",{className:"flex flex-wrap flex-row w-auto overflow-scroll max-h-80 columns-2 p-4 bg-slate-500",children:n.map(e=>(0,l.jsx)(N,{name:e,callback:t},e))})}):(0,l.jsx)("div",{})}function N(e){let{name:t,callback:n}=e,r=(0,s.useCallback)(()=>{let e=localStorage.getItem(t);return!!e&&JSON.parse(e)},[t]),[a,c]=(0,s.useState)(r()),i=(0,s.useCallback)(()=>{n(t,a),localStorage.setItem(t,JSON.stringify(!a)),c(!a)},[a]),o={};return a&&(o={borderStyle:"solid",borderColor:"green",borderWidth:"3px"}),(0,l.jsx)("div",{className:"m-1",children:(0,l.jsx)("button",{className:" w-40 h-10  bg-black text-cyan-50 rounded-lg hover:bg-slate-600 border-black",style:o,onClick:i,children:t})})}async function y(e,t,n){let l=n.replaceAll("videoList.json","".concat(e,"/").concat(t,".json"));return console.log(l),await fetch(l).then(e=>e.json())}let S={};function E(){let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(""),a=(0,s.useRef)("");async function c(e,n,l){console.log(l),void 0==S[e]&&(S[e]=[]),(await y(e,n,a.current)).forEach(t=>{l?function(t){let n=0,l=S[e].length-1;for(;n<=l;){let s=Math.floor((n+l)/2);if(S[e][s]===t){S[e].splice(s,1);return}S[e][s]<t?n=s+1:l=s-1}}(t):function(t){let n=0,l=S[e].length-1;for(;n<=l;){let s=Math.floor((n+l)/2);if(S[e][s]===t)return;S[e][s]<t?n=s+1:l=s-1}S[e].splice(n,0,t)}(t)});let s=Object.keys(S),r=[];if(s.forEach(e=>{S[e].length>0&&r.push(S[e])}),r.length>0){let e=function(e){if(0===e.length)return[];let t=[...e[0]];for(let n=1;n<e.length&&0!==(t=function(e,t){let n=0,l=0,s=[];for(;n<e.length&&l<t.length;)e[n]===t[l]?(s.push(e[n]),n++,l++):e[n]<t[l]?n++:l++;return s}(t,e[n])).length;n++);return t}(r);e.length>0?t(e):t([-1])}else t([])}return(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"",style:{paddingLeft:f},children:(0,l.jsx)(d,{allowedVideos:e,videosLocation:n})}),(0,l.jsx)("div",{className:" fixed bottom-0 left-0 ",children:(0,l.jsx)(b,{callback:c,changeYear:function(e){t([]),r(e),a.current=e}})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[465,441,517,358],()=>t(8850)),_N_E=e.O()}]);