(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8850:(e,t,l)=>{Promise.resolve().then(l.bind(l,7690))},7690:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>y});var n=l(5155),s=l(2115),r=l(5565);function a(e){return e>1536||e>1280?4:e>1024?3:e>768?2:1}var c=l(8173),i=l.n(c);function o(e){let{src:t,title:l,video:s}=e;return(0,n.jsxs)("div",{className:"w-full h-full block",children:[(0,n.jsx)("div",{className:"w-full h-5/6 relative block",children:(0,n.jsx)(i(),{href:"./Theater/?video=".concat(s.replaceAll("#","%23")," "),className:"w-full h-full absolute",children:(0,n.jsx)(r.default,{src:t.replaceAll("#","%23"),fill:!0,title:l,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"image",className:"rounded-[10%]"})})}),(0,n.jsx)("div",{className:"block relative ",children:(0,n.jsx)("h1",{children:l})})]})}function u(e){let{children:t}=e,[l,r]=(0,s.useState)(window.innerWidth);(0,s.useEffect)(()=>{let e=()=>{r(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=function(){let e=a(l);return e>6?{width:"calc(25% - .50rem)"}:e>5?{width:"calc(20% - .50rem)"}:4==e?{width:"calc(25% - .50rem)"}:3==e?{width:"calc(33.3% - .50rem )"}:2==e?{width:"calc(50% - .50rem)"}:void 0}();return(0,n.jsx)("div",{className:" m-1 h-[33vh] object-contain relative",style:c,children:t})}async function d(){return await fetch("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com/Testing/videoList.json").then(e=>e.json())}function h(e){let{allowedVideos:t}=e,l=(0,s.useRef)([]),[r,c]=(0,s.useState)([]),[i,h]=(0,s.useState)(!1),[f,m]=(0,s.useState)(0),w=(0,s.useCallback)(async()=>{i||(h(!0),m(f+2*a(window.innerWidth)),h(!1))},[i,f]);(0,s.useEffect)(()=>{if(t.length>0&&l.current.length>0){let e=[];for(let l=t.length-1;l>=0;l--)e.push(t[l]);c(e)}else if(l.current.length>0){let e=[];for(let t=l.current.length;t>0;t--)e.push(t);c(e)}},[t,l]),(0,s.useEffect)(()=>{(async function(){l.current=await d();let e=[];for(let t=l.current.length;t>0;t--)e.push(t);c(e)})(),m(4*a(window.innerWidth))},[]),(0,s.useEffect)(()=>{let e=()=>{let{scrollTop:e,clientHeight:t,scrollHeight:l}=document.documentElement;e+t>=l-50&&w()};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[w]);let x=0;return(0,n.jsx)("div",{className:"flex flex-wrap flex-row ",children:r.map(e=>{if(e<0||++x>f)return;let t=l.current[e];if(void 0==t){console.log("fail "+e);return}return(0,n.jsxs)(u,{children:[" ",(0,n.jsx)(o,{src:t.thumbnail,title:t.title,video:t.video})]},t.id)})})}d();let f="200px";async function m(){return await fetch("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com/Testing/tagGroupsList.json").then(e=>e.json())}async function w(e){return await fetch("".concat("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com","/").concat(e)).then(e=>e.json())}function x(e){let{name:t,link:l,setTags:r,initVideoSelect:a}=e,c=(0,s.useRef)([]);return(0,s.useEffect)(()=>{e();async function e(){c.current=await w(l),c.current.forEach(e=>{let l=localStorage.getItem(e);l&&JSON.parse(l)&&a(t,e,!1)})}},[l]),(0,n.jsx)("div",{className:"p-1",children:(0,n.jsx)("button",{className:"w-full h-10 rounded-xl bg-slate-300 hover:bg-slate-50",onClick:()=>{r(c.current,t)},children:t})})}let v=s.memo(e=>{let{setTags:t,initVideoSelect:l}=e,[r,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{e();async function e(){a(await m())}},[]),(0,n.jsx)("div",{className:"h-[100vh] bg-slate-500 inline-block ",style:{width:f},children:r.map(e=>(0,n.jsx)(x,{name:e.name,link:e.location,setTags:t,initVideoSelect:l},e.name))})});v.displayName="SideBarItemList";let g=(0,s.createContext)([]);function j(e){let{callback:t}=e,[l,r]=(0,s.useState)([]),a=(0,s.useRef)(""),c=(0,s.useCallback)((e,t)=>{a.current==t?r([]):r(e),a.current=t},[]),i=(0,s.useCallback)((e,l)=>{t(a.current,e,l)},[]);return(0,n.jsxs)("div",{children:[(0,n.jsx)(v,{setTags:c,initVideoSelect:t}),(0,n.jsx)(g.Provider,{value:l,children:(0,n.jsx)(p,{callback:i})})]})}function p(e){let{callback:t}=e,l=(0,s.useContext)(g);return l.length>0?(0,n.jsx)("div",{className:"inline-block p-1 w-2/3",children:(0,n.jsx)("div",{className:"flex flex-wrap flex-row w-auto overflow-scroll max-h-80 columns-2 p-4 bg-slate-500",children:l.map(e=>(0,n.jsx)(b,{name:e,callback:t},e))})}):(0,n.jsx)("div",{})}function b(e){let{name:t,callback:l}=e,r=(0,s.useCallback)(()=>{let e=localStorage.getItem(t);return!!e&&JSON.parse(e)},[t]),[a,c]=(0,s.useState)(r()),i=(0,s.useCallback)(()=>{l(t,a),localStorage.setItem(t,JSON.stringify(!a)),c(!a)},[a]),o={};return a&&(o={borderStyle:"solid",borderColor:"green",borderWidth:"3px"}),(0,n.jsx)("div",{className:"m-1",children:(0,n.jsx)("button",{className:" w-40 h-10  bg-black text-cyan-50 rounded-lg hover:bg-slate-600 border-black",style:o,onClick:i,children:t})})}async function k(e,t){return await fetch("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com/Testing/".concat(e,"/").concat(t,".json")).then(e=>e.json())}let N={};function y(){let[e,t]=(0,s.useState)([]);async function l(e,l,n){console.log(n),void 0==N[e]&&(N[e]=[]),(await k(e,l)).forEach(t=>{n?function(t){let l=0,n=N[e].length-1;for(;l<=n;){let s=Math.floor((l+n)/2);if(N[e][s]===t){N[e].splice(s,1);return}N[e][s]<t?l=s+1:n=s-1}}(t):function(t){let l=0,n=N[e].length-1;for(;l<=n;){let s=Math.floor((l+n)/2);if(N[e][s]===t)return;N[e][s]<t?l=s+1:n=s-1}N[e].splice(l,0,t)}(t)});let s=Object.keys(N),r=[];if(s.forEach(e=>{N[e].length>0&&r.push(N[e])}),r.length>0){let e=function(e){if(0===e.length)return[];let t=[...e[0]];for(let l=1;l<e.length&&0!==(t=function(e,t){let l=0,n=0,s=[];for(;l<e.length&&n<t.length;)e[l]===t[n]?(s.push(e[l]),l++,n++):e[l]<t[n]?l++:n++;return s}(t,e[l])).length;l++);return t}(r);e.length>0?t(e):t([-1])}else t([])}return(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"",style:{paddingLeft:f},children:(0,n.jsx)(h,{allowedVideos:e})}),(0,n.jsx)("div",{className:" fixed bottom-0 left-0 ",children:(0,n.jsx)(j,{callback:l})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[465,441,517,358],()=>t(8850)),_N_E=e.O()}]);