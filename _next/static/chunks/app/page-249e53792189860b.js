(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8850:(e,t,n)=>{Promise.resolve().then(n.bind(n,7690))},7690:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var l=n(5155),s=n(2115),r=n(5565);function a(e){return e>1536||e>1280?4:e>1024?3:e>768?2:1}var c=n(8173),i=n.n(c);function o(e){let{src:t,title:n,video:s}=e;return console.log(t),(0,l.jsxs)("div",{className:"w-full h-full block",children:[(0,l.jsx)("div",{className:"w-full h-5/6 relative block",children:(0,l.jsx)(i(),{href:"./Theater/?video=".concat(s.replaceAll("#","%23")," "),className:"w-full h-full absolute",children:(0,l.jsx)(r.default,{unoptimized:!0,src:t.replaceAll("#","%23"),fill:!0,title:n,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"image",className:"rounded-[10%]"})})}),(0,l.jsx)("div",{className:"block relative ",children:(0,l.jsx)("h1",{children:n})})]})}function u(e){let{children:t}=e,[n,r]=(0,s.useState)(window.innerWidth);(0,s.useEffect)(()=>{let e=()=>{r(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=function(){let e=a(n);return e>6?{width:"calc(25% - .50rem)"}:e>5?{width:"calc(20% - .50rem)"}:4==e?{width:"calc(25% - .50rem)"}:3==e?{width:"calc(33.3% - .50rem )"}:2==e?{width:"calc(50% - .50rem)"}:void 0}();return(0,l.jsx)("div",{className:" m-1 h-[33vh] object-contain relative",style:c,children:t})}async function d(){return await fetch("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com/Testing/videoList.json",{cache:"no-store"}).then(e=>e.json())}function h(e){let{allowedVideos:t}=e,n=(0,s.useRef)([]),[r,c]=(0,s.useState)([]),[i,h]=(0,s.useState)(!1),[f,m]=(0,s.useState)(0),w=(0,s.useCallback)(async()=>{i||(h(!0),m(f+2*a(window.innerWidth)),h(!1))},[i,f]);(0,s.useEffect)(()=>{if(t.length>0&&n.current.length>0){let e=[];for(let n=t.length-1;n>=0;n--)e.push(t[n]);c(e)}else if(n.current.length>0){let e=[];for(let t=n.current.length;t>0;t--)e.push(t);c(e)}},[t,n]),(0,s.useEffect)(()=>{(async function(){n.current=await d();let e=[];for(let t=n.current.length;t>0;t--)e.push(t);c(e)})(),m(4*a(window.innerWidth))},[]),(0,s.useEffect)(()=>{let e=()=>{let{scrollTop:e,clientHeight:t,scrollHeight:n}=document.documentElement;e+t>=n-50&&w()};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[w]);let x=0;return(0,l.jsx)("div",{className:"flex flex-wrap flex-row ",children:r.map(e=>{if(e<0||++x>f)return;let t=n.current[e];if(void 0==t){console.log("fail "+e);return}return(0,l.jsxs)(u,{children:[" ",(0,l.jsx)(o,{src:t.thumbnail,title:t.title,video:t.video})]},t.id)})})}d();let f="200px";async function m(){return await fetch("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com/Testing/tagGroupsList.json",{cache:"no-store"}).then(e=>e.json())}async function w(e){return await fetch("".concat("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com","/").concat(e),{cache:"no-store"}).then(e=>e.json())}function x(e){let{name:t,link:n,setTags:r,initVideoSelect:a}=e,c=(0,s.useRef)([]);return(0,s.useEffect)(()=>{e();async function e(){c.current=await w(n),c.current.forEach(e=>{let n=localStorage.getItem(e);n&&JSON.parse(n)&&a(t,e,!1)})}},[n]),(0,l.jsx)("div",{className:"p-1",children:(0,l.jsx)("button",{className:"w-full h-10 rounded-xl bg-slate-300 hover:bg-slate-50",onClick:()=>{r(c.current,t)},children:t})})}let v=s.memo(e=>{let{setTags:t,initVideoSelect:n}=e,[r,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{e();async function e(){a(await m())}},[]),(0,l.jsx)("div",{className:"h-[100vh] bg-slate-500 inline-block ",style:{width:f},children:r.map(e=>(0,l.jsx)(x,{name:e.name,link:e.location,setTags:t,initVideoSelect:n},e.name))})});v.displayName="SideBarItemList";let g=(0,s.createContext)([]);function j(e){let{callback:t}=e,[n,r]=(0,s.useState)([]),a=(0,s.useRef)(""),c=(0,s.useCallback)((e,t)=>{a.current==t?r([]):r(e),a.current=t},[]),i=(0,s.useCallback)((e,n)=>{t(a.current,e,n)},[]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(v,{setTags:c,initVideoSelect:t}),(0,l.jsx)(g.Provider,{value:n,children:(0,l.jsx)(p,{callback:i})})]})}function p(e){let{callback:t}=e,n=(0,s.useContext)(g);return n.length>0?(0,l.jsx)("div",{className:"inline-block p-1 w-2/3",children:(0,l.jsx)("div",{className:"flex flex-wrap flex-row w-auto overflow-scroll max-h-80 columns-2 p-4 bg-slate-500",children:n.map(e=>(0,l.jsx)(b,{name:e,callback:t},e))})}):(0,l.jsx)("div",{})}function b(e){let{name:t,callback:n}=e,r=(0,s.useCallback)(()=>{let e=localStorage.getItem(t);return!!e&&JSON.parse(e)},[t]),[a,c]=(0,s.useState)(r()),i=(0,s.useCallback)(()=>{n(t,a),localStorage.setItem(t,JSON.stringify(!a)),c(!a)},[a]),o={};return a&&(o={borderStyle:"solid",borderColor:"green",borderWidth:"3px"}),(0,l.jsx)("div",{className:"m-1",children:(0,l.jsx)("button",{className:" w-40 h-10  bg-black text-cyan-50 rounded-lg hover:bg-slate-600 border-black",style:o,onClick:i,children:t})})}async function k(e,t){return await fetch("https://zaleski-sports-roku.s3.us-east-2.amazonaws.com/Testing/".concat(e,"/").concat(t,".json")).then(e=>e.json())}let N={};function y(){let[e,t]=(0,s.useState)([]);async function n(e,n,l){console.log(l),void 0==N[e]&&(N[e]=[]),(await k(e,n)).forEach(t=>{l?function(t){let n=0,l=N[e].length-1;for(;n<=l;){let s=Math.floor((n+l)/2);if(N[e][s]===t){N[e].splice(s,1);return}N[e][s]<t?n=s+1:l=s-1}}(t):function(t){let n=0,l=N[e].length-1;for(;n<=l;){let s=Math.floor((n+l)/2);if(N[e][s]===t)return;N[e][s]<t?n=s+1:l=s-1}N[e].splice(n,0,t)}(t)});let s=Object.keys(N),r=[];if(s.forEach(e=>{N[e].length>0&&r.push(N[e])}),r.length>0){let e=function(e){if(0===e.length)return[];let t=[...e[0]];for(let n=1;n<e.length&&0!==(t=function(e,t){let n=0,l=0,s=[];for(;n<e.length&&l<t.length;)e[n]===t[l]?(s.push(e[n]),n++,l++):e[n]<t[l]?n++:l++;return s}(t,e[n])).length;n++);return t}(r);e.length>0?t(e):t([-1])}else t([])}return(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"",style:{paddingLeft:f},children:(0,l.jsx)(h,{allowedVideos:e})}),(0,l.jsx)("div",{className:" fixed bottom-0 left-0 ",children:(0,l.jsx)(j,{callback:n})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[465,441,517,358],()=>t(8850)),_N_E=e.O()}]);